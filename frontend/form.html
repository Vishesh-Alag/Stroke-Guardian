<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Predicting Brain Strokes with Machine Learning. Your journey to better health starts here.">
    <title>Stroke Guardian</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css"
        rel="stylesheet">
    <!-- Add Tailwind CSS CDN link -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css"
        rel="stylesheet">
    <!-- Add Bootstrap CSS CDN link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.5.2/dist/css/bootstrap.min.css"
        rel="stylesheet">
    <!-- Add FontAwesome CSS link -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        rel="stylesheet">

    <!-- Add Bootstrap JS CDN links (Popper.js and Bootstrap JavaScript) -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.2/dist/js/bootstrap.min.js"></script>
    <!-- Custom CSS -->
    <style>
        /* Your custom styles here */

        /* Body */
        body {
            background-color: #E9FFFE;
            /* Light background color */
            color: #333;
        }

        /* Headers */
        header,
        .navbar,
        .cta {
            background-color: #A3E8E5;
            /* Light background color for headers */
            color: #333;
        }

        /* Footer Section */
        .footer {
            background-color: #333;
            /* Dark background color for footer */
            color: #fff;
        }

        /* Hero Section */
        .hero {
            background: url('https://example.com/background-image.jpg') center/cover;
            color: #333;
            text-align: center;
            padding: 100px 0;
        }

        /* Call to Action Section */
        .cta {
            padding: 60px 0;
        }

        .cta-button {
            font-size: 18px;
            background-color: #A3E8E5;
            /* Light background color for buttons */
            color: #333;
            /* Text color for buttons */
            padding: 12px 24px;
            /* Padding added for buttons */
            border-radius: 999px;
            /* Rounded button shape */
            transition: background-color 0.3s, color 0.3s;
            /* Smooth transition on hover */
        }

        .cta-button:hover {
            background-color: #333;
            /* Dark background color on hover */
            color: #E9FFFE;
            /* Light text color on hover */
        }

        #mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 50%;
            /* Adjust the width based on content */
            max-width: 90%;
            /* Increase the maximum width */
            height: 100%;
            background-color: white;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            z-index: 999;
            transition: right 0.3s ease-in-out;
            /* Add transition for smoother animation */
        }

        #mobile-menu.show {
            right: 0;
        }

        #mobile-menu ul {
            padding: 20px;
            transition: opacity 0.3s ease-in-out;
            /* Add opacity transition within the side menu */
        }

        #mobile-menu a {
            display: block;
            padding: 10px 0;
            color: #333;
            font-size: 18px;
            text-decoration: none;
            transition: color 0.3s ease-in-out;
            /* Add color transition for menu links */
        }

        #mobile-menu a:hover {
            color: #007BFF;
        }

        #close-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            transition: transform 0.3s ease-in-out;
            /* Add transition for the cross icon */
        }

        /* Animation for hamburger icon */
        #mobile-menu-button {
            transition: transform 0.3s ease-in-out;
            /* Add transition for smoother animation */
        }

        #mobile-menu-button.active {
            transform: rotate(180deg);
            /* Rotate the icon when menu is active */
        }

        /* Animation class */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s, transform 1s;
        }

        .animate-on-scroll.active {
            opacity: 1;
            transform: translateY(0);
        }

        .welcome-container {
            padding: 40px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
            margin-top: 5px;
            margin-left: auto;
            margin-right: 120px;

        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        /* Form input styles */
        .form-control {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            width: 100%;

        }

        /* Password visibility toggle button */
        .password-input-container {
            position: relative;
        }

        .toggle-password-btn {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
        }

        /* Submit button styles */
        .welcome-btn {
            padding: 14px 0;
            border: none;
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
        }

        /* Additional styling for the welcome page */
        .welcome-heading {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        /* Style for labels */
        label {
            font-weight: 600;
        }

        /* Forgot password link styles */
        .forgot-password-link {
            text-align: center;
            margin-top: 10px;
        }

        .forgot-password-link a {
            color: #007BFF;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .forgot-password-link a:hover {
            color: #0056b3;
        }
    </style>
</head>

<body>
    <!-- Navbar Section -->
    <nav class="navbar p-4">
        <div class="container mx-auto flex justify-between items-center">
            <a class="text-4xl font-bold"
                href="index.html">Stroke Guardian</a>
            <div class="sm:hidden">
                <button id="mobile-menu-button"
                    class="p-2 focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                        class="w-6 h-6">
                        <path stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            <ul class="hidden sm:flex space-x-6 md:space-x-6">
                <li>
                    <a href="index.html">
                        <i class="fas fa-home mr-2"></i> Home
                    </a>
                </li>
                <li>
                    <a href="aboutus.html">
                        <i class="fas fa-info-circle mr-2"></i> About Us
                    </a>
                </li>
                
            </ul>

        </div>
    </nav>

    <!-- Mobile Menu (Hidden by default) -->
    <div id="mobile-menu">
        <div id="close-icon"
            onclick="closeMobileMenu()">
            <svg xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                class="w-6 h-6">
                <path stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </div>
        <ul class="text-gray-600 space-y-2">
            <li>
                <a href="index.html"
                    class="block p-4 hover:text-blue-600">
                    <i class="fas fa-home mr-2"></i> Home
                </a>
            </li>
            <li class="mt-0">
                <a href="aboutus.html"
                    class="block p-4 hover:text-blue-600">
                    <i class="fas fa-info-circle mr-2"></i> About Us
                </a>
            </li>
            
        </ul>

    </div>



<div class="container mx-auto my-10">
    <div class="bg-white p-8 rounded shadow-md w-75 mx-10 mt-10">
        <h1 class="text-3xl font-semibold mb-4 text-center">Welcome to Stroke Guardian</h1>
        <p class="text-center mb-6">
            Please provide accurate information in the form below to help us predict the likelihood of a stroke.
            Your health is important to us, and the predictions are made based on the data you provide.
        </p>
    
        <div class="bg-gray-100 p-6 rounded-md mb-6">
            <h2 class="text-xl font-semibold mb-2">Details We Need and Their Meanings:</h2>
            <ul class="list-disc pl-6">
                <li><strong>Date of Birth (DOB):</strong> Your date of birth is required to calculate your age.</li>
                <li><strong>Height and Weight:</strong> Providing your height and weight helps us calculate your BMI (Body Mass Index).</li>
                <li><strong>Gender:</strong> Please select your gender.</li>
                <li><strong>Ever Married:</strong> Indicate whether you have ever been married or not.</li>
                <li><strong>Work Type:</strong> Select your type of work (e.g., Private, Self-employed, Govt Job, Children).</li>
                <li><strong>Residence Type:</strong> Specify your residence type (Urban or Rural).</li>
                <li><strong>Average Glucose Level:</strong> Enter your average glucose level.</li>
                <li><strong>Smoking Status:</strong> Indicate your smoking status (Formerly Smoked, Never Smoked, or Smokes).</li>
                <li><strong>Hypertension:</strong> Answer whether you have hypertension (Yes or No).</li>
                <li><strong>Heart Disease:</strong> Indicate if you have a history of heart disease (Yes or No).</li>
            </ul>
        </div>
    
        <p class="text-center">
            Providing accurate information ensures more precise predictions. Thank you for your cooperation.
        </p>
    </div>
    <form id="strokeForm" class="bg-white p-8 rounded shadow-md max-w-lg my-5 mx-auto">
        <h1 class="text-2xl font-semibold mb-4">Stroke Prediction Form</h1>

        <!-- Form Fields -->
        <div class="grid grid-cols-2 gap-4">
          <!-- Date of Birth (DOB) -->
            <div class="mb-4">
                <label for="dob" class="block text-sm font-medium text-gray-600">Date of Birth (DOB)</label>
                <input type="date" id="dob" name="dob" class="mt-1 p-2 border w-full rounded" min="1900-01-01">
            </div>

            <!-- Height -->
            <div class="mb-4">
                <label for="height" class="block text-sm font-medium text-gray-600">Height (in cm)</label>
                <input type="number" id="height" name="height" class="mt-1 p-2 border w-full rounded" placeholder="Enter height" min="50">
            </div>

            <!-- Weight -->
            <div class="mb-4">
                <label for="weight" class="block text-sm font-medium text-gray-600">Weight (in kg)</label>
                <input type="number" id="weight" name="weight" class="mt-1 p-2 border w-full rounded" placeholder="Enter weight" min="1">
            </div>

            <!-- Gender -->
            <div class="mb-4">
                <label for="gender" class="block text-sm font-medium text-gray-600">Gender</label>
                <select id="gender" name="gender_encoded" class="mt-1 p-2 border w-full rounded">
                    <option value="1">Male</option>
                    <option value="0">Female</option>
                </select>
            </div>

            <!-- Ever Married -->
            <div class="mb-4">
                <label for="everMarried" class="block text-sm font-medium text-gray-600">Ever Married</label>
                <select id="everMarried" name="ever_married_encoded" class="mt-1 p-2 border w-full rounded">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>

            <!-- Work Type -->
            <div class="mb-4">
                <label for="workType" class="block text-sm font-medium text-gray-600">Work Type</label>
                <select id="workType" name="work_type_encoded" class="mt-1 p-2 border w-full rounded">
                    <option value="1">Private</option>
                    <option value="2">Self-employed</option>
                    <option value="0">Govt Job</option>
                    <option value="3">Children</option>
                </select>
            </div>

            <!-- Residence Type -->
            <div class="mb-4">
                <label for="residenceType" class="block text-sm font-medium text-gray-600">Residence Type</label>
                <select id="residenceType" name="Residence_type_encoded" class="mt-1 p-2 border w-full rounded">
                    <option value="1">Urban</option>
                    <option value="0">Rural</option>
                </select>
            </div>

            <!-- Average Glucose Level -->
            <div class="mb-4">
                <label for="avgGlucose" class="block text-sm font-medium text-gray-600">Average Glucose Level</label>
                <input type="number" id="avgGlucose" name="avg_glucose_level" class="mt-1 p-2 border w-full rounded" min="0">
            </div>

            <!-- Smoking Status -->
            <div class="mb-4">
                <label for="smokingStatus" class="block text-sm font-medium text-gray-600">Smoking Status</label>
                <select id="smokingStatus" name="smoking_status_encoded" class="mt-1 p-2 border w-full rounded">
                    <option value="0">Formerly Smoked</option>
                    <option value="1">Never Smoked</option>
                    <option value="2">Smokes</option>
                </select>
            </div>

            <!-- Hypertension -->
            <div class="mb-4">
                <label for="hypertension" class="block text-sm font-medium text-gray-600">Hypertension</label>
                <select id="hypertension" name="hypertension" class="mt-1 p-2 border w-full rounded">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>

            <!-- Heart Disease -->
            <div class="mb-4">
                <label for="heartDisease" class="block text-sm font-medium text-gray-600">Heart Disease</label>
                <select id="heartDisease" name="heart_disease" class="mt-1 p-2 border w-full rounded">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>
        </div>

        <!-- Proceed Button -->
        <button id="proceedBtn"
            class="mt-6 bg-blue-500 text-white p-2 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue active:bg-blue-800">
            Proceed
        </button>
    </form>

    <!-- Modal -->
    <div id="myModal"
        class="modal hidden fixed inset-0 bg-gray-50 bg-opacity-75 overflow-y-auto p-4 flex items-center justify-center">
        <div class="modal-content bg-white p-8 w-1/2 rounded shadow-md">
            <span id="closeModal"
                class="modal-close absolute top-0 right-0 p-4 cursor-pointer text-gray-700 hover:text-gray-900">
                <i class="fas fa-times"></i>
            </span>
            <h1 class="text-2xl font-semibold mb-4">User Information</h1>
            <!-- User Information Form -->
            <form id="userInfoForm">
                <div class="mb-4">
                    <label for="userName" class="block text-sm font-medium text-gray-600">Name</label>
                    <input type="text" id="userName" name="userName"
                        class="mt-1 p-2 border w-full rounded">
                </div>
                <div class="mb-4">
                    <label for="userEmail" class="block text-sm font-medium text-gray-600">Email</label>
                    <input type="email" id="userEmail" name="userEmail"
                        class="mt-1 p-2 border w-full rounded">
                </div>
                <!-- Predict Button -->
                <button id="predictBtn"
                    class="bg-blue-500 text-white p-2 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue active:bg-blue-800">
                    Predict
                </button>
            </form>
        </div>
    </div>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha384-qGi/4Rd9b7dVO9U2c/3YvBYYS0HcwXlHRwCOUH9S2bX7wD51aB51aGfD1Ff4DlSO"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js"
    integrity="sha384-4FjQr6f6Yq5c2NPsPh/GlNKACJ9Yai1flb7R29RV+bd0RxAYLjoR3dJ6NL9sGKos"
    crossorigin="anonymous"></script>

<script>
    // Open modal on Proceed button click
    document.getElementById('proceedBtn').addEventListener('click', function (e) {
            e.preventDefault();

            // Validate height, weight, and glucose level for non-negativity
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const avgGlucose = parseFloat(document.getElementById('avgGlucose').value);

            if (isNaN(height) || isNaN(weight) || isNaN(avgGlucose) || height < 0 || weight < 0 || avgGlucose < 0) {
                alert('Please enter valid non-negative values for height, weight, and average glucose level.');
                return;
            }

            // If validation is successful, open the modal
            document.getElementById('myModal').classList.remove('hidden');
           
        });


    // Close modal on Close button click
    document.getElementById('closeModal').addEventListener('click', function () {
        document.getElementById('myModal').classList.add('hidden');
        
    });
    // Calculate age based on Date of Birth (DOB)
    function calculateAge(birthdate) {
        const today = new Date();
        const dob = new Date(birthdate);
        let age = today.getFullYear() - dob.getFullYear();
        const monthDiff = today.getMonth() - dob.getMonth();
        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
            age--;
        }
        return age;
    }

    // Calculate BMI based on height and weight
    function calculateBMI(height, weight) {
        // Convert height to meters
        const heightInMeters = height / 100;
        // Calculate BMI
        const bmi = weight / (heightInMeters * heightInMeters);
        return bmi.toFixed(2);
    }

    // Handle form submission and prediction on Predict button click
    document.getElementById('predictBtn').addEventListener('click', function (e) {
        e.preventDefault();
        const dob = document.getElementById('dob').value;
        const height = parseFloat(document.getElementById('height').value);
        const weight = parseFloat(document.getElementById('weight').value);

        const age = calculateAge(dob);
        let bmi=0;
        // Check if height and weight are valid numbers
        if (!isNaN(height) && !isNaN(weight)) {
            bmi = calculateBMI(height, weight);
        } else {
            alert('Please enter valid values for height and weight.');
            return;
        }
        // Fetch form data
        const formData = {
            age: age,
            hypertension: document.getElementById('hypertension').value,
            heart_disease: document.getElementById('heartDisease').value,
            avg_glucose_level: document.getElementById('avgGlucose').value,
            bmi:bmi,
            gender_encoded: document.getElementById('gender').value,
            smoking_status_encoded: document.getElementById('smokingStatus').value,
            ever_married_encoded: document.getElementById('everMarried').value,
            work_type_encoded: document.getElementById('workType').value,
            Residence_type_encoded: document.getElementById('residenceType').value,
            name: document.getElementById('userName').value,
            email: document.getElementById('userEmail').value
            
        };

        // Send data to the Flask API (you need to replace the API endpoint with your actual endpoint)
        fetch('https://stroke-guardian.onrender.com/api/v1/predict', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData),
        })
            .then(response => response.json())
            .then(data => {
               // Store prediction data and formData in localStorage
        localStorage.setItem('predictionData', JSON.stringify(data));
        localStorage.setItem('formData', JSON.stringify(formData));
  // Redirect to result.html
                window.location.href = 'result.html';
            })
            .catch((error) => {
                console.error('Error:', error);
            });
    });
</script>



    <!-- Footer Section -->
    <footer class="bg-gray-900 text-white py-4">
        <div class="container mx-auto flex flex-wrap justify-center items-center"> <!-- Center the content -->
            <div class="w-full md:w-1/3 lg:w-1/4 px-1 mb-4">
                <h2 class="text-xl font-semibold mb-4">About</h2>
                <ul>
                    <li><a href="faqs.html">FAQs</a></li>
                    <li><a href="#">Blogs</a></li>
                    <li><a href="aboutus.html">About Us</a></li>
                </ul>
            </div>
            <div class="w-full md:w-1/3 lg:w-1/4 px-1 mb-4">
                <h2 class="text-xl font-semibold mb-4">Quick Links</h2>
                <ul>
                    <li><a href="privacypolicy.html">Privacy Policy</a></li>
                    <li><a href="termsconditions.html">Terms and Conditions</a></li>
                </ul>
            </div>
            <div class="w-full md:w-1/3 lg:w-1/4 px-1 mb-4">
                <h2 class="text-xl font-semibold mb-4">Contact</h2>
                <div class="flex space-x-4">
                    <a href="#"
                        class="text-white hover:text-gray-400">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="#"
                        class="text-white hover:text-gray-400">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#"
                        class="text-white hover:text-gray-400">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#"
                        class="text-white hover:text-gray-400">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="#"
                        class="text-white hover:text-gray-400">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
        </div>
        <!-- Divider -->
        <div class="w-full mt-4"
            style="height: 1px; background-color: rgba(255, 255, 255, 0.5);"></div>
        <div class="text-center mt-4">
            <p>&copy; 2023 Stroke Guardian, All Rights Reserved, Vishesh Alag</p>
        </div>
    </footer>

    <!-- Intersection Observer Script -->
    <script>
        // Function to handle the toggle for FAQ answers
        document.querySelectorAll('.faq-item').forEach(function (faqItem) {
            const toggleIcon = faqItem.querySelector('.toggle-icon');
            const faqAnswer = faqItem.querySelector('.faq-answer');

            toggleIcon.addEventListener('click', function () {
                faqItem.classList.toggle('open');
            });
        });
    </script>
</body>

</html>